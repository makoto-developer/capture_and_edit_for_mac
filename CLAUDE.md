# プロジェクト情報

## 概要

macOSでスクリーンショットをキャプチャしたら自動で起動し、その場で編集できる軽量アプリケーション

## 実装済み機能

### 自動起動
- クリップボードに画像がコピーされると自動でアプリが起動
- メニューバーアイコンから簡単アクセス

### 編集ツール
- **選択ツール**: オブジェクトを選択してドラッグで移動
- **線描画**: 色付きの線を自由に描画
- **枠描画**: 色付きの矩形で範囲を囲む
- **矢印**: 矢印を描画
- **テキスト**: テキストを追加
- **塗りつぶし**: シークレット情報を黒く塗りつぶし（AI読み取り防止）
- **Undo/Redo**: 編集操作の取り消し・やり直し（Ctrl+B / Ctrl+R）
- **全クリア**: すべての編集をリセット

### 保存・履歴機能
- 編集後、クリップボードに上書き保存
- 保存後の自動終了設定（オプション）
- 過去に編集した画像の履歴を自動保存（最大25件表示）
- 履歴からクリップボードへのコピーが可能

## 技術スタック

- **言語**: Swift 5.9+
- **フレームワーク**: SwiftUI + AppKit
- **アーキテクチャ**: MVVM
- **対応OS**: macOS 13.0+
- **依存関係管理**: Swift Package Manager
- **外部依存**: なし（標準ライブラリのみ）

## プロジェクト構造

```
Sources/CaptureAndEdit/
├── App/              # アプリエントリーポイント
├── Models/           # ドメインモデル
├── ViewModels/       # ビューモデル（MVVMパターン）
├── Views/            # SwiftUI/AppKitビュー
├── Services/         # ビジネスロジック
└── Utilities/        # 拡張機能・ユーティリティ
```

## 開発ルール

### コード品質
- セキュアで安全なアプリ（ローカル完結、外部通信なし）
- 実装時は必ずテストも作成（TDD推奨）
- 厳密な型で実装（any型の使用を避ける）
- SOLID原則に従う
- YAGNIの徹底（将来使うかもしれない機能は実装しない）

### Git運用
- インターネットに勝手にアップロードしない
- 勝手にgit commitやgit pushしない
- ビルドアーティファクト（*.app）はGit管理対象外

### テスト
- Models層: 主要ロジックの100%カバレッジ目標
- ViewModels層: ビジネスロジックの100%カバレッジ目標
- 詳細は `Tests/README.md` を参照

## ビルド・実行

```bash
# ヘルプを表示
make help

# ビルド + インストール
make install

# ビルド + インストール + 起動
make run
```

詳細は `README.md` を参照してください。


